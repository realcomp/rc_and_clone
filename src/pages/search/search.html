<ion-header>
  <ion-navbar no-border-bottom>

    <ion-navbar>
      <ion-title>{{ title }}</ion-title>
    </ion-navbar>

    <ion-buttons end>
      <button ion-button icon-only>
        <ion-icon ios="ios-search" md="md-search"></ion-icon>
      </button>
    </ion-buttons>


  </ion-navbar>
</ion-header>

<ion-content no-bounce>


  <ion-segment [(ngModel)]="filter" (ionChange)="changeFilter($event)">
    <ion-segment-button value="Tested">
      Проверенные
    </ion-segment-button>
    <ion-segment-button value="NotTested">
      Ожидают проверки
    </ion-segment-button>
  </ion-segment>


  <ion-list no-lines [hidden]="productsEmpty" class="grid-row" no-lines>

    <div class="container-section grid-flex">
      <div class="grid-padding grid-column-6 grid-column-small-12 grid-left grid-flex"
           *ngFor="let product of products">
        <div class="b-product util-container-style util-hover-shadow fadeIn animated"
             (click)="handlerSelect(product)">
          <div class="product-inner grid-flex grid-flex-align-center">
            <product-rating-component [dangerLevel]="product.danger_level" [rating]="product.rating" [tested]="product.tested"></product-rating-component>
            <img class="product-logo" src="{{ product.thumbnail }}">
            <div class="product-name">{{ slug }} {{ product.name }}</div>
          </div>
        </div>
      </div>
    </div>

  </ion-list>


  <ion-list-header [hidden]="!productsEmpty">
    Товары не найдены
  </ion-list-header>


  <ion-infinite-scroll *ngIf="products.length > 0 && totalCount > products.length" (ionInfinite)="doInfinite($event)">
    <ion-infinite-scroll-content loadingText="Загружаю данные...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>